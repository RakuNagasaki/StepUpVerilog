# 🚲 LED lightning
この章では、最終的にXilinx (AMD)の評価ボード上での実装試験を行うことを目指して、
1. FPGAを使う理由
2. 実装フローについて (RTL, 高位合成, 配置配線, Bit Streamファイル作成)
3. コードの作成
4. 論理シミュレーションの実行

を順を追って説明しきていきます。
この章ではLEDチカチカを目標に定めてコードを書いていきますが、それ自体は特に難しくありません。それまでのハードウェアとしての振る舞いや意味を理解して欲しいです。


## #1 FPGAを使う理由
### LSI
FPGAとはLSI (大規模集積回路)の一つで、回路同士の配線を書き換え可能なゲートアレイという意味があります。

同じく私たちに親しみがあるLSIである、CPUとの比較を以下に示しますが、これだけの違いがあります。

|種類|計算方法|柔軟性|計算速度|
|----|----|----|----|
|CPU|メモリにアクセスして計算|高い|遅い|
|FPGA|実装したファームウェアの配線に従って計算|比較的低い|早い|
|ASIC|生産時に配線した配線に従って計算|低い|早い|

そしてこの点が、加速器実験でFPGAやASICを好んで使用する理由にもなっています。
ここで、上に登場したFPGAとASICについて少しだけ詳しい説明を入れておきます。

**・ASIC (特定用途向け集積回路)**
「エーシック」と呼びます。名前にある通り、特定用途に特化したLSIです。
特定用途に特化しているということは即ち汎用的な回路コンポーネントを不要とするため、実装面積を削減したり消費電力を抑制することができます。
一方で一度作成したASIC内部の回路構造を変化させることは不可能なので、柔軟性に乏しいです。
ATLASでは、TGC検出機フロントエンドにはASDボードと呼ばれるボード1枚に対してSony製のASICが4枚ずつ実装されています。
機能としてはFPGA等でカバーできるものであっても、10年以上に渡って運用するのであれば取り回しの容易さや消費電力の大きさは無視できなくなるため、この部分にASICを用いているのはとても理にかなっていることだと考えます。

**・FPGA (現場で書き換え可能なゲートアレイ)**
「エフピージーエー」と呼びます。イメージとしては、回路構造を書き換え可能なASICです。
今よく見かけるFPGAの大半はDFF (Delay Flip-Flop)を利用するRAM方式の一つである「SRAM」を採用したSRAM型FPGAであり、現在ATLAS RUN4に向けて開発を進めるほとんどのFPGAがこの型です。


### O(ns)の世界